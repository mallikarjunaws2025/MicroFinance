@model TestApp.VModels.Group.Groups
@{
    ViewBag.Title = "CreateBranch";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Create Group</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>  
 <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css'>
<link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css'>
<link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css'>
<link rel="stylesheet" href="css/style.css">  
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
    <style>
        .drpdwn {
            width :70px;
                height: 30px;
        }

    </style>
<body>
      <div class="container">
           @Html.HiddenFor(model => model.DOC, new { @id = "DOC" })
    <form class="well form-horizontal" action=" " method="post"  id="contact_form">
         <label id="lblmgs"></label>
                    @Html.ValidationSummary(false, "", new { @id="Errors", @class = "text-danger" })
<fieldset>

<!-- Form Name -->
<legend><center><h2><b>Group Registration</b></h2></center></legend><br>

<!-- Group Code-->
<div class="form-group">
  <label class="col-md-4 control-label">Group Name</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-group"></i></span>
      @Html.TextBoxFor(model => model.GroupName, new { @class="form-control", @placeholder="Group Name", @required="required" })
    </div>
  </div>
</div>

     <!--Group Type-->
<div class="form-group">
  <label class="col-md-4 control-label">Group Type</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
      @Html.DropDownListFor(x => Model.GroupType,new List<SelectListItem> {new SelectListItem {Value="Daily",Text="Daily" },new SelectListItem {Value="Weekly",Text="Weekly" }},"-- Select Group Type --", htmlAttributes: new { @class = "form-control",@required = "required", @id = "GrpType"})
    </div>
  </div>
</div>

<!-- Branch Code-->
    <div  id="dvRecoveryDay" style="display:none">
<div class="form-group">
  <label class="col-md-4 control-label" >Recovery Day</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-bullhorn"></i></span>
        @Html.DropDownListFor(x => Model.RecoveryDay,new List<SelectListItem> {new SelectListItem {Value="Sun",Text="Sun" }, new SelectListItem {Value="Mon",Text="Mon" },new SelectListItem {Value="Tue",Text="Tue" },new SelectListItem {Value="Wed",Text="Wed" },new SelectListItem {Value="Thu",Text="Thu" },new SelectListItem {Value="Fri",Text="Fri" },new SelectListItem {Value="Sat",Text="Sat" }},"--Recovery Day --", htmlAttributes: new { @class = "form-control", @id = "RecoveryDay"})
        
        
        @*@Html.DropDownListFor(x => Model.BranchCode, new SelectList(Model.BranchCodeList,"Value", "Text"),"-Branch Code-", htmlAttributes: new {@class="form-control", @id = "BranchCode"})*@
    </div>
  </div>
</div>
        </div>
       
   <!-- Village -->
<div class="form-group"> 
  <label class="col-md-4 control-label">Village</label>
    <div class="col-md-4 selectContainer">
    <div class="input-group">
               <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
          @Html.TextBoxFor(model => model.Village, new { @class="form-control", @placeholder="Village", @required="required" })
  </div>
</div>
</div>
  
<!--Total Member-->
<div class="form-group">
  <label class="col-md-4 control-label">Total Member</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      @Html.TextBoxFor(model => model.TotalMember, new { @class="form-control", @placeholder="Total Member", @required="required" })
    </div>
  </div>
</div>

<!-- Created date-->
<div class="form-group">
  <label class="col-md-4 control-label" >Created Date</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
           <input class = "form-control", required = "required" type="date" id="idDOC">

    </div>
  </div>
</div>

<!-- Distance-->
<div class="form-group">
  <label class="col-md-4 control-label">Distance</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-street-view"></i></span>
      @Html.TextBoxFor(model => model.Distance, new { @class="form-control", @placeholder="Distance", @required="required" })
    </div>
  </div>
</div>

<!-- Grp Status-->
<div class="form-group">
  <label class="col-md-4 control-label">Status</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-toggle-on"></i></span>
      @Html.DropDownListFor(model => model.Status, new List<SelectListItem> {new SelectListItem {Value="Active",Text="Active" }},"-Select Status-", new { @class="form-control", @placeholder="Status", @required="required" })
    </div>
  </div>
</div>

    <!-- Staff Name-->
<div class="form-group">
  <label class="col-md-4 control-label">Staff Name</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-wheelchair"></i></span>
      @Html.DropDownListFor(x => Model.StaffID, new SelectList(Model.StaffMbrList,"Value", "Text"),"-Staff Name-", htmlAttributes: new {@class="form-control",@required = "required", @id = "StaffId"})
    </div>
  </div>
</div>

    <!--Formed By-->
<div class="form-group">
  <label class="col-md-4 control-label">Formed By</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      @Html.TextBoxFor(model => model.FormedBy, new { @class="form-control", @placeholder="Formed By", @required="required" })
    </div>
  </div>
</div>

  <!--Meeting Palce By-->
<div class="form-group">
  <label class="col-md-4 control-label">Meeting Place</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-map-marker"></i></span>
      @Html.TextBoxFor(model => model.MeetingPlaceAddress, new { @class="form-control", @placeholder="Meeting Place Address", @required="required" })
    </div>
  </div>
</div>

  

<!-- Success message -->
<label class="alert alert-success" style="display:none" role="alert" id="success_message"> <i class="glyphicon glyphicon-thumbs-up"></i> Success!.</label>
    
<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4 inputGroupContainer">
      <button type="submit" style="float:left" id="btnSave" class="btn btn-warning" >SUBMIT <span class="glyphicon glyphicon-send"></span>&nbsp</button>
       <input type="button" value="Cancel" id="btnCancel" class="btn btn-warning" style="float:right" />
  </div>
</div>

</fieldset>
</form>
</div>
    </div><!-- /.container -->
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>
<script  src="js/index.js"></script>
</body>
</html>
<script>
    $("#btnCancel").click(function () {
        $("form")[0].reset(); 
    });

    $("#GrpType").change(function () {

        debugger;

        if ($("#GrpType :selected").val() == 'Daily') {
            $('#dvRecoveryDay').attr("style", "display:none");
        }
        else {
            $('#dvRecoveryDay').attr("style", "display:normal");
        }
    });

    $("#idDOC").change(function () {
        $("#lblmgs").html('');
        if ($('#idDOC').val().length == 0) {
            //$("#lblmgs").html("<h3 style='color: red;'>Please select From date and To date.</h3>");
            return;
        }
        else {
            var today = new Date();
            var frmDt = new Date($('#idDOC').val());
            if (frmDt.getDate() > today.getDate() && frmDt.getMonth() >= today.getMonth() && frmDt.getFullYear() == today.getFullYear()) {
                $("#lblmgs").html("<h3 style='color: red;'>Feture date is not allowed.</h3>");
            }
            else {
                $('#DOC').val(frmDt.toLocaleDateString());
                $("#lblmgs").html('');
            }
        }
    });

    $(document).ready(function () {

        if ('@Model.IsSucess' == "1") {
            $("#lblmgs").html("<h3 style='color: green;'>Successfully created group.</h3>");
            $("#btnSave").attr('disabled',true);
            
          }
        else if ('@Model.IsSucess' == "2") {
            $("#lblmgs").html("<h3 style='color: red;'>Failed to create group, Please try again.</h3>");
        }
        else if ('@Model.IsSucess' == "3") {
            $("#lblmgs").html("<h3 style='color: red;'>'@Model.IsSucess', Please try again.</h3>");
        }
      });
</script>