@model TestApp.VModels.BranchViewModel
@{
    ViewBag.Title = "CreateBranch";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Create Branch</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>  
 <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css'>
<link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css'>
<link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css'>
<link rel="stylesheet" href="css/style.css">  
</head>
    <style>
        .drpdwn {
            width :70px;
                height: 30px;
        }

    </style>
<body>
      <div class="container" ;border-color: "darkgrey";border-width:"2px";">
    <form class="well form-horizontal" action=" " method="post"  id="contact_form">
         <label id="lblmgs"></label>
                    @Html.ValidationSummary(false, "", new { @id="Errors", @class = "text-danger" })
<fieldset>

<!-- Form Name -->
<legend><center><h2><b>Branch Registration Form</b></h2></center></legend><br>

<!-- Branch Code-->
<div class="form-group">
  <label class="col-md-4 control-label">Branch Code</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      @Html.TextBoxFor(model => model.BranchCode, new { @class="form-control", @placeholder="Branch Code", @required="required" })
    </div>
  </div>
</div>
<!-- Branch Name-->
<div class="form-group">
  <label class="col-md-4 control-label" >Branch Name</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        @Html.TextBoxFor(model => model.BranchName, new { @class="form-control", @placeholder="Branch Name", @required="required" })
    </div>
  </div>
</div>

   <!-- Branch Open Date -->
<div class="form-group"> 
  <label class="col-md-4 control-label">Branch Open Date</label>
    <div class="col-md-4 selectContainer">
    <div class="input-group">
               <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
         @Html.DropDownListFor(x => Model.OpenDateday, Enumerable.Range(1,31).Select(i=> new SelectListItem {Value=i.ToString(),Text=i.ToString()}),"-Day-", htmlAttributes: new {@class="drpdwn", id = "BCrDtDy"})&nbsp;
         @Html.DropDownListFor(x => Model.OpenDateMonth,Enumerable.Range(1,12).Select(i=> new SelectListItem {Value=i.ToString(),Text=i.ToString()}),"-Month-", htmlAttributes: new {@class="drpdwn", id = "BCrDtMnth"})&nbsp;
         @Html.DropDownListFor(x => Model.OpenDateYear,Enumerable.Range(2015, Convert.ToInt32(DateTime.Now.Year-2014)).Select(i=> new SelectListItem {Value=i.ToString(),Text=i.ToString()}),"-Year-", htmlAttributes: new {@class="drpdwn", id = "BCrDtr"})
  </div>
</div>
</div>
  
<!--Address-->
<div class="form-group">
  <label class="col-md-4 control-label">Address</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
      @Html.TextBoxFor(model => model.BranchAddress, new { @class="form-control", @placeholder="Address", @required="required" })
    </div>
  </div>
</div>

<!-- City-->
<div class="form-group">
  <label class="col-md-4 control-label" >City</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
        @Html.TextBoxFor(model => model.City, new { @class="form-control", @placeholder="City", @required="required" })
    </div>
  </div>
</div>

<!-- State-->
<div class="form-group">
  <label class="col-md-4 control-label" >State</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      @Html.TextBoxFor(model => model.State, new { @class="form-control", @placeholder="State", @required="required" })
    </div>
  </div>
</div>

<!-- Pin Code-->
<div class="form-group">
  <label class="col-md-4 control-label">Pin Code</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
      @Html.TextBoxFor(model => model.PinCode, new { @class="form-control", @placeholder="Pin Code", @required="required" })
    </div>
  </div>
</div>

<!-- Success message -->
<label class="alert alert-success" style="display:none" role="alert" id="success_message"> <i class="glyphicon glyphicon-thumbs-up"></i> Success!.</label>

<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4 inputGroupContainer">
      <button type="submit" style="float:left" id="btnSave" class="btn btn-warning" >SUBMIT <span class="glyphicon glyphicon-send"></span>&nbsp</button>
       <input type="button" value="Cancel" id="btnCancel" class="btn btn-warning" style="float:right" />
  </div>
</div>

</fieldset>
</form>
</div>
    <!-- /.container -->
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>
<script  src="js/index.js"></script>
</body>
</html>
<script>
    $("#btnCancel").click(function () {
        $("form")[0].reset(); 
    });

    $(document).ready(function () {
        
        var today = new Date();
        var D = today.getDate();
        var M = today.getMonth() + 1;
        var Y = today.getFullYear();

        $('#BCrDtDy option').map(function () {
            if ($(this).text() == D) return this;
        }).attr('selected', 'selected');

        $('#BCrDtMnth option').map(function () {
            if ($(this).text() == M) return this;
        }).attr('selected', 'selected');

        $('#BCrDtr option').map(function () {
            if ($(this).text() == Y) return this;
        }).attr('selected', 'selected');

        if ('@Model.IsSucess' == "1") {
            $("#lblmgs").html("<h3 style='color: green;'>Successfully created branch.</h3>");
            $("#btnSave").attr('disabled', true);
          }
          else if ('@Model.IsSucess' == "2") {
            $("#lblmgs").html("<h3 style='color: red;'>Failed to create branch, Please try again.</h3>");
        }
      });
</script>
